<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<!DOCTYPE issue SYSTEM "lwg-issue.dtd" [ 
  <!ENTITY nbsp "&#160;">
] >

<issue num="2363" status="New">
<title>Defect in 30.4.1.4.1 [thread.sharedtimedmutex.class]</title>
<section><sref ref="[thread.sharedtimedmutex.class]"/></section>
<submitter>Richard Smith</submitter>
<date>16 Feb 2014</date>
<priority>99</priority>

<discussion>
<p>
<sref ref="[thread.sharedtimedmutex.class]"/> paragraph 2: 
</p>
<blockquote><p> The class <tt>shared_timed_mutex</tt> shall satisfy all of the 
<tt>SharedTimedMutex</tt> requirements (30.4.1.4). It shall be a standard layout class (Clause 9).
</p></blockquote> 
<p>
There's no <tt>SharedTimedMutex</tt> requirements; this name doesn't appear anywhere else in the standard. (Prior to N3891, 
this was <tt>SharedMutex</tt>, which was equally undefined.)
<p/>
I assume this concept should be defined somewhere?
<p/>
Also, n3891 changes <sref ref="[thread.sharedtimedmutex.requirements]"/> from defining "shared mutex type" to defining 
"shared timed mutex type", but its paragraph 2 still talks about "shared mutex type". Is that OK? I think you could argue 
that it's clear enough what it means, but presumably it should use the term that paragraph 1 defined.
<p/>
<sref ref="[thread.lock.shared]"/> paragraph 1 talks about the "shared mutex requirements", which again is a term that isn't 
defined, and presumably means "the requirements on a shared timed mutex type" or similar (maybe if <tt>SharedMutex</tt> or 
<tt>SharedTimedMutex</tt> were defined it could be reused here).
</p>

<note>2014-05-22, Daniel comments</note>
<p>
As for <tt>SharedTimedMutex</tt>, there exists a similar problem in regard to <tt>TimedMutex</tt> referred to in
<sref ref="[thread.timedmutex.class]"/> p2 and in <sref ref="[thread.timedmutex.recursive]"/> p2, but nowhere defined.
<p/>
Another problem is, that according to <sref ref="[thread.mutex.class]"/> p3, "The class <tt>mutex</tt> shall satisfy all the 
<tt>Mutex</tt> requirements (<sref ref="[thread.mutex.requirements]"/>).", but there are no concrete <tt>Mutex</tt> requirements,
<sref ref="[thread.mutex.requirements]"/> &mdash; titled as "Mutex requirements" &mdash; describes <em>mutex types</em>,
<em>timed mutex types</em>, and <em>shared timed mutex types</em>.
<p/>
The standard would be more consistent and easier to interpret, if &mdash; similar to the existing <tt>**Lockable</tt> requirements &mdash;
there would exist corresponding <tt>**Mutex</tt> requirements.
</p>

</discussion>

<resolution>
</resolution>

</issue>
